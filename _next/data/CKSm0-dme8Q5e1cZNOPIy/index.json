{"pageProps":{"metadata":{"layout":"page","title":"Chia Power - Estimate of total energy consumption in the Chia network","id":"index"},"mdxSource":{"compiledSource":"\"use strict\";\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\n/* @jsxRuntime classic */\n\n/* @jsx mdx */\nvar layoutProps = {};\nvar MDXLayout = \"wrapper\";\n\nfunction MDXContent(_ref) {\n  var components = _ref.components,\n      props = _objectWithoutProperties(_ref, [\"components\"]);\n\n  return mdx(MDXLayout, _extends({}, layoutProps, props, {\n    components: components,\n    mdxType: \"MDXLayout\"\n  }), mdx(\"p\", null, \"Chia power is the working model for estimating power consumption on the Chia network, written by Jonmichael Hands, Sr. Strategic Planner at Intel corporation. You can find him on Keybase as @Storage_jm\"), mdx(\"p\", null, mdx(\"img\", {\n    parentName: \"p\",\n    \"src\": \"images/chia_logo.svg\",\n    \"alt\": \"chia logo\",\n    \"title\": \"Chia Network\"\n  }), \"\\n\", mdx(\"a\", {\n    parentName: \"p\",\n    \"href\": \"https://www.chia.net/\"\n  }, \"Chia Network\")), mdx(\"h1\", null, \"Summary\"), mdx(\"p\", null, \"This is a link to a \", mdx(\"a\", {\n    parentName: \"p\",\n    \"href\": \"https://docs.google.com/spreadsheets/d/1ytkoezTa2jqzolOJAj1-p2oFGiPQ0ocLpr78r8AhdLM/edit?usp=sharing\"\n  }, \"working model\"), \" that estimates netspace growth based on current initial estimate, growth rate, and total storage market size for the upper limit of growth. The Chia team reviewed a very early version in a community Zoom call \", mdx(\"a\", {\n    parentName: \"p\",\n    \"href\": \"https://youtu.be/oGTBMKVXRuA\"\n  }, \"Farming and Electricity Usage in Chia\")), mdx(\"p\", null, \"The total power consumption on the Chia network can be estimated by taking the total netspace (similar to hashing power in bitcoin) and modeling the power consumption of the storage devices (farming) and the energy created to create the data (plotting). This is a similar methodology to the \", mdx(\"a\", {\n    parentName: \"p\",\n    \"href\": \"https://cbeci.org/\"\n  }, \"Cambridge Bitcoin Electricity Consumption Index\"), \", where most likely mining hardware is known, and electricity cost is estimated, and the total power consumption of the bitcoin network is estimated using a low and high estimate of reference mining hardware. Estimating a mix of common reference hardware farmers using hard disk drives (HDDs) and solid state drives (SSDs) by what is economical for Chia farming will depend on the capital expenditures of the hardware (CapEx) and operational expenditures for power, cooling, networking, and data center efficiency. Storage power efficiency is measured in TB/W which includes the overhead of the supporting hardware infrastructure to host the storage devices, but the largest upfront cost in Chia farming is the cost of the storage devices themselves. The Chia network also consumes energy during the plotting process, of which the cryptographic data is generated prior to being able to farm for the proof of space and time.\"), mdx(\"p\", null, \"Energy consumption in kWh can be calculated by assuming an estimated percentage of the network using consumer hardware with spare capacity (under utilized resources already owned), which happen to be very efficient due to the transition in mainstream computing devices to SSDs over the last decade, as well as the percent of dedicated farmers that are using dense storage configurations with data center grade equipment.\\n\", mdx(\"img\", {\n    parentName: \"p\",\n    \"src\": \"images/image1.png\",\n    \"alt\": \"equation\",\n    \"title\": \"Eave\"\n  }), \"\\n\", mdx(\"img\", {\n    parentName: \"p\",\n    \"src\": \"images/image2.png\",\n    \"alt\": \"equation\",\n    \"title\": \"Elow\"\n  }), \"\\n\", mdx(\"img\", {\n    parentName: \"p\",\n    \"src\": \"images/image3.png\",\n    \"alt\": \"equation\",\n    \"title\": \"Ehigh\"\n  })), mdx(\"p\", null, \"Where TB/W for P ave, low, and high are estimated with the representative farming equipment efficiency.\\n\", mdx(\"img\", {\n    parentName: \"p\",\n    \"src\": \"images/image4.png\",\n    \"alt\": \"equation\",\n    \"title\": \"TB/W\"\n  }), \"\\nTotal power of the Chia network\\n\", mdx(\"img\", {\n    parentName: \"p\",\n    \"src\": \"images/image5.png\",\n    \"alt\": \"equation\",\n    \"title\": \"Ptotal\"\n  }), \"\\nAnnual energy consumption\\n\", mdx(\"img\", {\n    parentName: \"p\",\n    \"src\": \"images/image6.png\",\n    \"alt\": \"equation\",\n    \"title\": \"Etotal\"\n  }), mdx(\"img\", {\n    parentName: \"p\",\n    \"src\": \"images/image7.png\",\n    \"alt\": \"equation\",\n    \"title\": \"Etotal2\"\n  })), mdx(\"table\", null, mdx(\"thead\", {\n    parentName: \"table\"\n  }, mdx(\"tr\", {\n    parentName: \"thead\"\n  }, mdx(\"th\", {\n    parentName: \"tr\",\n    \"align\": null\n  }, \"Parameter\"), mdx(\"th\", {\n    parentName: \"tr\",\n    \"align\": null\n  }, \"Description\"), mdx(\"th\", {\n    parentName: \"tr\",\n    \"align\": null\n  }, \"Unit\"), mdx(\"th\", {\n    parentName: \"tr\",\n    \"align\": null\n  }, \"Source\"))), mdx(\"tbody\", {\n    parentName: \"table\"\n  }, mdx(\"tr\", {\n    parentName: \"tbody\"\n  }, mdx(\"td\", {\n    parentName: \"tr\",\n    \"align\": null\n  }, \"Netspace\"), mdx(\"td\", {\n    parentName: \"tr\",\n    \"align\": null\n  }, \"Total amount of farming capacity on the Chia network\"), mdx(\"td\", {\n    parentName: \"tr\",\n    \"align\": null\n  }, \"EiB (Exbibyte)\"), mdx(\"td\", {\n    parentName: \"tr\",\n    \"align\": null\n  }, \"Chia network, \", mdx(\"a\", {\n    parentName: \"td\",\n    \"href\": \"https://www.chiaexplorer.com/\"\n  }, \"Chia explorer\"))), mdx(\"tr\", {\n    parentName: \"tbody\"\n  }, mdx(\"td\", {\n    parentName: \"tr\",\n    \"align\": null\n  }, \"HDD ave capacity\"), mdx(\"td\", {\n    parentName: \"tr\",\n    \"align\": null\n  }, \"Average capacity hard disk drive\"), mdx(\"td\", {\n    parentName: \"tr\",\n    \"align\": null\n  }, \"TB (Terabytes)\"), mdx(\"td\", {\n    parentName: \"tr\",\n    \"align\": null\n  }, \"Source: IDC Worldwide Hard Disk Drive Forecast Update, 2020\\u20132024, Dec 2020\")), mdx(\"tr\", {\n    parentName: \"tbody\"\n  }, mdx(\"td\", {\n    parentName: \"tr\",\n    \"align\": null\n  }, \"Plotting energy consumption\"), mdx(\"td\", {\n    parentName: \"tr\",\n    \"align\": null\n  }, \"Average energy consumption to create 1TiB of plots\"), mdx(\"td\", {\n    parentName: \"tr\",\n    \"align\": null\n  }, \"kWh/TiB of data\"), mdx(\"td\", {\n    parentName: \"tr\",\n    \"align\": null\n  }, \"Chia community reference hardware\")), mdx(\"tr\", {\n    parentName: \"tbody\"\n  }, mdx(\"td\", {\n    parentName: \"tr\",\n    \"align\": null\n  }, \"Device power consumption\"), mdx(\"td\", {\n    parentName: \"tr\",\n    \"align\": null\n  }, \"The idle power of storage device\"), mdx(\"td\", {\n    parentName: \"tr\",\n    \"align\": null\n  }, \"W/TB\"), mdx(\"td\", {\n    parentName: \"tr\",\n    \"align\": null\n  }, \"Modeled by device type for SSD and HDD\")), mdx(\"tr\", {\n    parentName: \"tbody\"\n  }, mdx(\"td\", {\n    parentName: \"tr\",\n    \"align\": null\n  }, \"E low\"), mdx(\"td\", {\n    parentName: \"tr\",\n    \"align\": null\n  }, \"Energy consumption, most efficient hardware (SSD)\"), mdx(\"td\", {\n    parentName: \"tr\",\n    \"align\": null\n  }, \"kWh\"), mdx(\"td\", {\n    parentName: \"tr\",\n    \"align\": null\n  }, \"Farming on low power SSDs, extra space from consumer storage\")), mdx(\"tr\", {\n    parentName: \"tbody\"\n  }, mdx(\"td\", {\n    parentName: \"tr\",\n    \"align\": null\n  }, \"E ave\"), mdx(\"td\", {\n    parentName: \"tr\",\n    \"align\": null\n  }, \"Energy consumption mainstream high capacity farmer\"), mdx(\"td\", {\n    parentName: \"tr\",\n    \"align\": null\n  }, \"kWh\"), mdx(\"td\", {\n    parentName: \"tr\",\n    \"align\": null\n  }, \"Estimated hyperscale like efficiency purpose built for data storage and farming\")), mdx(\"tr\", {\n    parentName: \"tbody\"\n  }, mdx(\"td\", {\n    parentName: \"tr\",\n    \"align\": null\n  }, \"E high\"), mdx(\"td\", {\n    parentName: \"tr\",\n    \"align\": null\n  }, \"Energy consumption worst case (low capacity HDD)\"), mdx(\"td\", {\n    parentName: \"tr\",\n    \"align\": null\n  }, \"kWh\"), mdx(\"td\", {\n    parentName: \"tr\",\n    \"align\": null\n  }, \"Estimated with 3-4TB HDDs on a consumer desktop, lowest device CapEx\")))), mdx(\"p\", null, \"Total storage market size in Exabytes. The power consumption of the Chia network is a small portion of the overall total storage market size, and improved efficiencies in farming devices will further reduce  total energy consumption for mass storage and would result in a net positive impact for the environment.\"), mdx(\"p\", null, mdx(\"img\", {\n    parentName: \"p\",\n    \"src\": \"images/image14.png\",\n    \"alt\": \"Storage Market\",\n    \"title\": \"Market\"\n  }), \"\\nSource: IDC Worldwide Hard Disk Drive Forecast Update, 2020\\u20132024, Dec 2020, IDC Worldwide Solid State Drive Forecast Update, 2020\\u20132024. Dec 2020\"), mdx(\"h2\", null, \"Modeling Device Power Consumption - W/TB\"), mdx(\"p\", null, mdx(\"em\", {\n    parentName: \"p\"\n  }, \"Assumption 0\"), \" The power consumption used to estimate per disk power is very close to hard drive specification of idle power. The Chia farming process is very lightweight, requiring very little disk io and further reduced in the \", mdx(\"a\", {\n    parentName: \"p\",\n    \"href\": \"https://docs.google.com/document/d/1tmRIb7lgi4QfKkNaxuKOBHRmwbVlGL4f7EsBDr_5xZE/\"\n  }, \"new consensus\"), \" through a mechanism called the plot filter. Although the amount of data transferred is very low, the frequency of data access depends on the size of the plots constructed and number of plots per drive (capacity per disk), measured with a K value, with the minimum K value = 32 consisting of ~108GB (~101GiB. Most farmers use  the minimum required K value for the network operation due to the ease of plotting, so the probability a single plot per disk passes the filter is very high, requiring the disk to be accessed frequently. While it is technically possible for a hard disk drive to spin down to zero idle power between slots, the resume latency from HDD power off or spindown is 10 seconds and HDDs consume higher power to spin up (in rush current) reaching up to 25W for a few seconds. The energy consumed for power up and the mechanical wear and tear on the device make it not practical to spin down the drives in regular use. Power savings on the other mechanical aspects of HDDs, for instance, management of the heads and actuators, are device specific, while link power states are subject to the host storage interface (both SAS and SATA have detailed power state machines that operate differently)\"), mdx(\"p\", null, mdx(\"img\", {\n    parentName: \"p\",\n    \"src\": \"images/image13.png\",\n    \"alt\": \"HDD Power\",\n    \"title\": \"Power\"\n  }), \"\\nSource: \", mdx(\"a\", {\n    parentName: \"p\",\n    \"href\": \"https://www.microsoft.com/en-us/research/publication/feeding-pelican-using-archival-hard-drives-cold-storage-racks/\"\n  }, \"Feeding the Pelican: Using Archival Hard Drives for Cold Storage Racks\")), mdx(\"p\", null, mdx(\"img\", {\n    parentName: \"p\",\n    \"src\": \"images/powerw_tb.svg\",\n    \"alt\": \"HDD Power\",\n    \"title\": \"Power W/TB\"\n  })), mdx(\"table\", null, mdx(\"thead\", {\n    parentName: \"table\"\n  }, mdx(\"tr\", {\n    parentName: \"thead\"\n  }, mdx(\"th\", {\n    parentName: \"tr\",\n    \"align\": null\n  }), mdx(\"th\", {\n    parentName: \"tr\",\n    \"align\": null\n  }, \"Consumer NVMe\"), mdx(\"th\", {\n    parentName: \"tr\",\n    \"align\": null\n  }, \"Data Center NVMe\"), mdx(\"th\", {\n    parentName: \"tr\",\n    \"align\": null\n  }, \"Data Center SATA\"), mdx(\"th\", {\n    parentName: \"tr\",\n    \"align\": null\n  }, \"HDD 7200\"), mdx(\"th\", {\n    parentName: \"tr\",\n    \"align\": null\n  }, \"HDD 7200\"), mdx(\"th\", {\n    parentName: \"tr\",\n    \"align\": null\n  }, \"HDD 5400\"), mdx(\"th\", {\n    parentName: \"tr\",\n    \"align\": null\n  }, \"HDD 5400\"), mdx(\"th\", {\n    parentName: \"tr\",\n    \"align\": null\n  }, \"HDD 4TB 7200\"), mdx(\"th\", {\n    parentName: \"tr\",\n    \"align\": null\n  }, \"HDD 2TB 7200\"))), mdx(\"tbody\", {\n    parentName: \"table\"\n  }, mdx(\"tr\", {\n    parentName: \"tbody\"\n  }, mdx(\"td\", {\n    parentName: \"tr\",\n    \"align\": null\n  }, \"Power Idle (W)\"), mdx(\"td\", {\n    parentName: \"tr\",\n    \"align\": null\n  }, \"0.05\"), mdx(\"td\", {\n    parentName: \"tr\",\n    \"align\": null\n  }, \"3.5\"), mdx(\"td\", {\n    parentName: \"tr\",\n    \"align\": null\n  }, \"1.1\"), mdx(\"td\", {\n    parentName: \"tr\",\n    \"align\": null\n  }, \"5.9\"), mdx(\"td\", {\n    parentName: \"tr\",\n    \"align\": null\n  }, \"5.9\"), mdx(\"td\", {\n    parentName: \"tr\",\n    \"align\": null\n  }, \"3.5\"), mdx(\"td\", {\n    parentName: \"tr\",\n    \"align\": null\n  }, \"2.5\"), mdx(\"td\", {\n    parentName: \"tr\",\n    \"align\": null\n  }, \"5\"), mdx(\"td\", {\n    parentName: \"tr\",\n    \"align\": null\n  }, \"5\")), mdx(\"tr\", {\n    parentName: \"tbody\"\n  }, mdx(\"td\", {\n    parentName: \"tr\",\n    \"align\": null\n  }, \"Capacity (TB)\"), mdx(\"td\", {\n    parentName: \"tr\",\n    \"align\": null\n  }, \"4\"), mdx(\"td\", {\n    parentName: \"tr\",\n    \"align\": null\n  }, \"30.72\"), mdx(\"td\", {\n    parentName: \"tr\",\n    \"align\": null\n  }, \"3.84\"), mdx(\"td\", {\n    parentName: \"tr\",\n    \"align\": null\n  }, \"18\"), mdx(\"td\", {\n    parentName: \"tr\",\n    \"align\": null\n  }, \"16\"), mdx(\"td\", {\n    parentName: \"tr\",\n    \"align\": null\n  }, \"8\"), mdx(\"td\", {\n    parentName: \"tr\",\n    \"align\": null\n  }, \"4\"), mdx(\"td\", {\n    parentName: \"tr\",\n    \"align\": null\n  }, \"4\"), mdx(\"td\", {\n    parentName: \"tr\",\n    \"align\": null\n  }, \"2\")), mdx(\"tr\", {\n    parentName: \"tbody\"\n  }, mdx(\"td\", {\n    parentName: \"tr\",\n    \"align\": null\n  }, \"W/TB idle\"), mdx(\"td\", {\n    parentName: \"tr\",\n    \"align\": null\n  }, \"0.01\"), mdx(\"td\", {\n    parentName: \"tr\",\n    \"align\": null\n  }, \"0.11\"), mdx(\"td\", {\n    parentName: \"tr\",\n    \"align\": null\n  }, \"0.29\"), mdx(\"td\", {\n    parentName: \"tr\",\n    \"align\": null\n  }, \"0.33\"), mdx(\"td\", {\n    parentName: \"tr\",\n    \"align\": null\n  }, \"0.37\"), mdx(\"td\", {\n    parentName: \"tr\",\n    \"align\": null\n  }, \"0.44\"), mdx(\"td\", {\n    parentName: \"tr\",\n    \"align\": null\n  }, \"0.63\"), mdx(\"td\", {\n    parentName: \"tr\",\n    \"align\": null\n  }, \"1.25\"), mdx(\"td\", {\n    parentName: \"tr\",\n    \"align\": null\n  }, \"2.50\")))), mdx(\"h2\", null, \"Power consumption for majority of large Chia farmers\"), mdx(\"p\", null, \"The majority of nearline and high capacity HDDs are consumed by hyperscale data centers and large cloud service providers, where designing around lowest possible data center TCO is the ultimate goal. TCO is measured in TCO$/TBe/rack/month, where TCO is the sum of the total capital and operational expenditures ammorized of the effective or usable capacity of the storage system. The Chia power model utilizes a similar model assuming the most efficient way to store data is already widely being used.  Optimizing disk storage TCO involves getting the highest capacity HDDs, which offer the highest energy efficiency in terms of TB/W, as well as densely packed JBODs (just a bunch of disks) measured in TB/rack unit. Different architectures for warm storage (more frequently accessed) vs cold storage (archival, less frequently accessed) vary mostly around the amount of compute to storage ratio. Chia farming looks very similar to hyperscale HDD archival storage requiring minimum compute resources and networking resources for the actual harvester and farming protocols. Hyperscalers like \", mdx(\"a\", {\n    parentName: \"p\",\n    \"href\": \"https://www.usenix.org/conference/fast21/presentation/pan\"\n  }, \"Facebook\"), \" and Microsoft have written about their storage systems extensively because the \", mdx(\"a\", {\n    parentName: \"p\",\n    \"href\": \"https://www.opencompute.org/documents/facebook-bryce-canyon-storage-system-specification\"\n  }, \"JBOD hardware designs\"), \" hardware designs are open source at the \", mdx(\"a\", {\n    parentName: \"p\",\n    \"href\": \"https://www.opencompute.org/\"\n  }, \"Open Compute Project\"), \".\"), mdx(\"p\", null, mdx(\"img\", {\n    parentName: \"p\",\n    \"src\": \"images/image15.png\",\n    \"alt\": \"JBOD\",\n    \"title\": \"JBOD\"\n  })), mdx(\"p\", null, \"The model used to estimate power consumption for disks and supporting infrastructure is taken from the  \", mdx(\"a\", {\n    parentName: \"p\",\n    \"href\": \"https://www.snia.org/forums/sssi/programs/TCOcalc\"\n  }, \"SNIA open source storage TCO model\"), \" open source storage TCO model. Replication, erasure coding, and RAID for data protection is not assumed for use in the Chia farming model, due to the fact that plot data can be easily recreated upon disk failure. The model also assumes the majority of disk time is spent in active idle, where the motor is spinning and the disk can respond to commands in milliseconds. The total power consumption overhead for dense storage involves a storage server (or sometimes called headnode) that serves the operating system hosting the Chia harvester and/or farmer. The total power consumption must include the JBODs (which power consumption comes mostly from the disks, but some from the fans, SAS expanders, and backplane) and the servers and supporting infrastructure like networking routers and switches. Everything that is in the rack dedicated to Chia farming must be considered to accurately model the power consumption efficiency in TB/W. When comparing large farms, the majority of the TB/W is actually consumed by the disks themselves, not by the supporting infrastructure, so average capacity HDD is one of the top drivers of ave TB/W. We assume that most large farmers have came to the same conclusion as hyperscale data centers driving up TB/rack unit of space and driving down TB/W by using the highest capacity HDD, even at a minor increase in $/TB over a smaller capacity HDD.\"), mdx(\"h2\", null, \"Energy efficiency - Data center PUE\"), mdx(\"p\", null, \"Hyperscalers like Facebook have achieved a world class PUE of 1.08 and have a large effort in sustainability and renewable energy. We assume most large farmers in the first few years are not optimizing for maximum power efficiency, but just like in Bitcoin over time the power efficiency will gravitate towards the most efficient solutions for power consumption, low cost electricity, and energy efficiency. The Pave equation assumes hyperscale like efficiencies for storage, since they are in fact storing most of the worlds data and the largest annual consumers of HDD and SSDs.\"), mdx(\"h3\", null, \"Power consumption in lower bound\"), mdx(\"p\", null, \"Solid state drives are extremely power efficient. Designed for the use in laptops and mobile devices for long battery life, NAND and SSD controllers are architected for near zero idle power consumption. The \", mdx(\"a\", {\n    parentName: \"p\",\n    \"href\": \"https://nvmexpress.org/developers/nvme-specification/\"\n  }, \"NVM Express (NVMe) specification\"), \" for solid state drives contains various features for \", mdx(\"a\", {\n    parentName: \"p\",\n    \"href\": \"https://nvmexpress.org/resources/nvm-express-technology-features/nvme-technology-power-features/\"\n  }, \"power savings\"), \", with mainstream consumer SSDs ranging from \", mdx(\"a\", {\n    parentName: \"p\",\n    \"href\": \"https://www.anandtech.com/show/16012/the-sk-hynix-gold-p31-ssd-review/7\"\n  }, \"2-4mW idle power with 5-8mS resume latency\"), \". With over 100 million consumer NVMe SSDs shipped alone in 2020, there are tens of millions of 1-2TB SSDs in consumer laptops and desktops, which based on studies done by Intel and other companies is greater than the average amount of data used in mainstream use, productivity, gaming, and workstations. The lower bound estimate is the power consumption for low power SSDs.\"), mdx(\"p\", null, mdx(\"strong\", {\n    parentName: \"p\"\n  }, \"Assumption\"), \" Current prices of SSDs are 5-7x the $/TB of capacity optimized hard disk drives. The power consumption of the lower bound only estimates current estimated underutilized capacity resources from consumers who have already purchased a computing device with an SSD installed.\"), mdx(\"p\", null, \"Power consumption in kW - lower bound\\n\", mdx(\"img\", {\n    parentName: \"p\",\n    \"src\": \"images/image8.png\",\n    \"alt\": \"equation\",\n    \"title\": \"Elow\"\n  })), mdx(\"h2\", null, \"Power consumption higher bound\"), mdx(\"p\", null, mdx(\"img\", {\n    parentName: \"p\",\n    \"src\": \"images/image3.png\",\n    \"alt\": \"equation\",\n    \"title\": \"Ehigh\"\n  })), mdx(\"p\", null, \"The higher bound on energy consumption comes from the storage media type that is the lowest acquisition cost. Hard disk drives also exhibit a bathtub curve for device failures when power on hours exceeds the 5 year warranty, or excessive writes to the disk (HDD manufacturers call rated workload). Annual failure rate for these models that are well into production have been well documented, with reports like \", mdx(\"a\", {\n    parentName: \"p\",\n    \"href\": \"https://www.backblaze.com/b2/hard-drive-test-data.html\"\n  }, \"Backblaze HDD Disk Stats\"), \". The most likely candidate for low cost hard drives for 2021 are 3 or 4TB devices, which are on average, used and at the end of life, 20-30% cheaper than used or refurbished average capacity 3.5in HDDs.\"), mdx(\"h3\", null, \"Power to plot\"), mdx(\"p\", null, \"The \", mdx(\"a\", {\n    parentName: \"p\",\n    \"href\": \"https://www.chia.net/2021/02/22/plotting-basics.html\"\n  }, \"plotting\"), \" process involves the creation of the cryptographic data that is stored on the farming devices, and requires compute and ephemeral storage resources to create. Plotting is a one time energy consumption use per the total Netspace, as the data to be stored for farming only needs to be created once. More details about the plotting process can be found in the \", mdx(\"a\", {\n    parentName: \"p\",\n    \"href\": \"https://www.chia.net/assets/proof_of_space.pdf\"\n  }, \"Chia Proof of Space Construction document\"), \". The Chia community has \", mdx(\"a\", {\n    parentName: \"p\",\n    \"href\": \"https://github.com/Chia-Network/chia-blockchain/wiki/Reference-Plotting-Hardware\"\n  }, \"reference hardware posted \"), \"with the amount of data that various machines can plot per day, and the average power consumption of the systems can be measured or estimated very accurately (since these are common consumer or server platforms). Users also record the amount of data they are able to plot per day per machine making it practical to estimate the energy consumption to create the Chia plots, estimated in kWh/TiB plotted.\\n\", mdx(\"img\", {\n    parentName: \"p\",\n    \"src\": \"images/image12.png\",\n    \"alt\": \"equation\",\n    \"title\": \"Pplot\"\n  })), mdx(\"h3\", null, \"Opportunities for further investigation\"), mdx(\"p\", null, mdx(\"strong\", {\n    parentName: \"p\"\n  }, \"HDD capacity growth vs QLC SSD\"), \"\\nThere is currently a lot of debate about what is in store for the next decade of storage devices. The NAND market is project to reach 558EB in 2021 (Source: TrendForce Feb. 9th, 2021), with approximately 300EB of SSDs between data center and consumer applications. With the current decline of average selling price of SSDs over the last 10 years, multiple generations of 3D NAND technology improvements and new media technologies for NAND flash (QLC and PLC, 4 and 5 bits per cell respectively) \", mdx(\"a\", {\n    parentName: \"p\",\n    \"href\": \"https://wikibon.com/qlc-flash-hamrs-hdd/\"\n  }, \"may bring a total ASP crossover for SSDs and HDDs.\"), \" Even if SSDs reach within 2-3x the ASP, the projected TCO in almost every storage application will favor SSDs. \", mdx(\"a\", {\n    parentName: \"p\",\n    \"href\": \"https://www.anandtech.com/show/16544/seagates-roadmap-120-tb-hdds\"\n  }, \"Seagate has since responded\"), \" with a competitive roadmap that exceeds the current areal density growth for HDDs and requires investment in new technologies.\"), mdx(\"p\", null, mdx(\"em\", {\n    parentName: \"p\"\n  }, \"\\u201CSeagate recently published its long-term technology roadmap revealing plans to produce ~50 TB hard drives by 2026 and 120+ TB HDDs after 2030. In the coming years, Seagate is set to leverage usage of heat-assisted magnetic recording (HAMR), adopt bit patterned media (BPM) in the long term, and to expand usage of multi-actuator technology (MAT) for high-capacity drives. This is all within the 3.5-inch form factor\\u201D.\")), mdx(\"p\", null, \"No matter who wins this storage war, total power efficiency per given storage capacity will get reduced in upcoming years due to the competitive storage market and large growth of data created. These will both benefit Chia, with an SSD heavy future being even more power efficient than the current. \", mdx(\"a\", {\n    parentName: \"p\",\n    \"href\": \"https://www.intel.com/content/www/us/en/events/memory-and-storage.html\"\n  }, \"Intel forecasted\"), \" that a move to all SSD in the future could reduce carbon emissions by 41 million tons, with a projected TCO crossover for 15-30% of the nearline HDD bit TAM by 2022 alone.\"), mdx(\"p\", null, mdx(\"strong\", {\n    parentName: \"p\"\n  }, \"Reduce power of HDDs through firmware optimizations for Chia\"), \"\\nCurrent 5400RPM 3.5in HDDs consume less idle power than 7200 RPM drives. An \", mdx(\"a\", {\n    parentName: \"p\",\n    \"href\": \"https://www.seagate.com/www-content/datasheets/pdfs/3-5-barracudaDS1900-14-2007US-en_US.pdf\"\n  }, \"8TB Seagate \"), \"5400RPM HDD consumes 2.5W (4TB) and 3.4W (8TB) idle power, while competing 7200 RPM drives consume 5-6W idle power. There are likely optimizations to slightly reduce W/TB by taking large capacity models and running them at a lower motor speed, impacting performance at the tradeoff of energy efficiency.\"), mdx(\"table\", null, mdx(\"thead\", {\n    parentName: \"table\"\n  }, mdx(\"tr\", {\n    parentName: \"thead\"\n  }, mdx(\"th\", {\n    parentName: \"tr\",\n    \"align\": null\n  }, \"Drive Model\"), mdx(\"th\", {\n    parentName: \"tr\",\n    \"align\": null\n  }, \"Capacity\"), mdx(\"th\", {\n    parentName: \"tr\",\n    \"align\": null\n  }, \"Speed\"), mdx(\"th\", {\n    parentName: \"tr\",\n    \"align\": null\n  }, \"Idle Power\"), mdx(\"th\", {\n    parentName: \"tr\",\n    \"align\": null\n  }, \"W/TB\"))), mdx(\"tbody\", {\n    parentName: \"table\"\n  }, mdx(\"tr\", {\n    parentName: \"tbody\"\n  }, mdx(\"td\", {\n    parentName: \"tr\",\n    \"align\": null\n  }, \"Seagate Barracuda\"), mdx(\"td\", {\n    parentName: \"tr\",\n    \"align\": null\n  }, \"8TB\"), mdx(\"td\", {\n    parentName: \"tr\",\n    \"align\": null\n  }, \"5400 RPM\"), mdx(\"td\", {\n    parentName: \"tr\",\n    \"align\": null\n  }, \"3.4W\"), mdx(\"td\", {\n    parentName: \"tr\",\n    \"align\": null\n  }, \"0.425\")), mdx(\"tr\", {\n    parentName: \"tbody\"\n  }, mdx(\"td\", {\n    parentName: \"tr\",\n    \"align\": null\n  }, \"Seagate Exos X18\"), mdx(\"td\", {\n    parentName: \"tr\",\n    \"align\": null\n  }, \"18TB\"), mdx(\"td\", {\n    parentName: \"tr\",\n    \"align\": null\n  }, \"7200 RPM\"), mdx(\"td\", {\n    parentName: \"tr\",\n    \"align\": null\n  }, \"5.3W\"), mdx(\"td\", {\n    parentName: \"tr\",\n    \"align\": null\n  }, \"0.294\")))), mdx(\"p\", null, mdx(\"strong\", {\n    parentName: \"p\"\n  }, \"Large K values and drive spindown.\"), \"\\nWith very large capacity HDDs and very large K value, the probability of disk access during a sub-block per plot filter goes down exponentially. There are some opportunities to explore POCs with very large K value (1-2 per disk) and calculate the probability distribution for disk access times vs acceptable spin downs per year.\"));\n}\n\n;\nMDXContent.isMDXComponent = true;","renderedOutput":"<p class=\"text-lg tracking-normal leading-relaxed break-words text-justify py-6 text-gray-600\">Chia power is the working model for estimating power consumption on the Chia network, written by Jonmichael Hands, Sr. Strategic Planner at Intel corporation. You can find him on Keybase as @Storage_jm</p><p class=\"text-lg tracking-normal leading-relaxed break-words text-justify py-6 text-gray-600\"><img class=\"max-w-full pt-6 pb-4\" src=\"images/chia_logo.svg\" alt=\"chia logo\" title=\"Chia Network\"/>\n<a class=\"underline text-green-600\" href=\"https://www.chia.net/\">Chia Network</a></p><h1 class=\"text-5xl tracking-wider leading-relaxed break-words pt-8 pb-2 text-gray-700\">Summary</h1><p class=\"text-lg tracking-normal leading-relaxed break-words text-justify py-6 text-gray-600\">This is a link to a <a class=\"underline text-green-600\" href=\"https://docs.google.com/spreadsheets/d/1ytkoezTa2jqzolOJAj1-p2oFGiPQ0ocLpr78r8AhdLM/edit?usp=sharing\">working model</a> that estimates netspace growth based on current initial estimate, growth rate, and total storage market size for the upper limit of growth. The Chia team reviewed a very early version in a community Zoom call <a class=\"underline text-green-600\" href=\"https://youtu.be/oGTBMKVXRuA\">Farming and Electricity Usage in Chia</a></p><p class=\"text-lg tracking-normal leading-relaxed break-words text-justify py-6 text-gray-600\">The total power consumption on the Chia network can be estimated by taking the total netspace (similar to hashing power in bitcoin) and modeling the power consumption of the storage devices (farming) and the energy created to create the data (plotting). This is a similar methodology to the <a class=\"underline text-green-600\" href=\"https://cbeci.org/\">Cambridge Bitcoin Electricity Consumption Index</a>, where most likely mining hardware is known, and electricity cost is estimated, and the total power consumption of the bitcoin network is estimated using a low and high estimate of reference mining hardware. Estimating a mix of common reference hardware farmers using hard disk drives (HDDs) and solid state drives (SSDs) by what is economical for Chia farming will depend on the capital expenditures of the hardware (CapEx) and operational expenditures for power, cooling, networking, and data center efficiency. Storage power efficiency is measured in TB/W which includes the overhead of the supporting hardware infrastructure to host the storage devices, but the largest upfront cost in Chia farming is the cost of the storage devices themselves. The Chia network also consumes energy during the plotting process, of which the cryptographic data is generated prior to being able to farm for the proof of space and time.</p><p class=\"text-lg tracking-normal leading-relaxed break-words text-justify py-6 text-gray-600\">Energy consumption in kWh can be calculated by assuming an estimated percentage of the network using consumer hardware with spare capacity (under utilized resources already owned), which happen to be very efficient due to the transition in mainstream computing devices to SSDs over the last decade, as well as the percent of dedicated farmers that are using dense storage configurations with data center grade equipment.\n<img class=\"max-w-full pt-6 pb-4\" src=\"images/image1.png\" alt=\"equation\" title=\"Eave\"/>\n<img class=\"max-w-full pt-6 pb-4\" src=\"images/image2.png\" alt=\"equation\" title=\"Elow\"/>\n<img class=\"max-w-full pt-6 pb-4\" src=\"images/image3.png\" alt=\"equation\" title=\"Ehigh\"/></p><p class=\"text-lg tracking-normal leading-relaxed break-words text-justify py-6 text-gray-600\">Where TB/W for P ave, low, and high are estimated with the representative farming equipment efficiency.\n<img class=\"max-w-full pt-6 pb-4\" src=\"images/image4.png\" alt=\"equation\" title=\"TB/W\"/>\nTotal power of the Chia network\n<img class=\"max-w-full pt-6 pb-4\" src=\"images/image5.png\" alt=\"equation\" title=\"Ptotal\"/>\nAnnual energy consumption\n<img class=\"max-w-full pt-6 pb-4\" src=\"images/image6.png\" alt=\"equation\" title=\"Etotal\"/><img class=\"max-w-full pt-6 pb-4\" src=\"images/image7.png\" alt=\"equation\" title=\"Etotal2\"/></p><div class=\"flex flex-col py-6 font-sans\"><div class=\"-my-2 overflow-x-auto sm:-mx-6 lg:-mx-8\"><div class=\"py-2 align-middle inline-block min-w-full sm:px-6 lg:px-8\"><div class=\"shadow overflow-hidden border-b border-gray-200 sm:rounded-lg\"><table class=\"min-w-full divide-y divide-gray-200\"><thead class=\"bg-gray-50\"><tr><th class=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">Parameter</th><th class=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">Description</th><th class=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">Unit</th><th class=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">Source</th></tr></thead><tbody class=\"bg-white divide-y divide-gray-200\"><tr><td class=\"px-6 py-4 whitespace-normal\">Netspace</td><td class=\"px-6 py-4 whitespace-normal\">Total amount of farming capacity on the Chia network</td><td class=\"px-6 py-4 whitespace-normal\">EiB (Exbibyte)</td><td class=\"px-6 py-4 whitespace-normal\">Chia network, <a class=\"underline text-green-600\" href=\"https://www.chiaexplorer.com/\">Chia explorer</a></td></tr><tr><td class=\"px-6 py-4 whitespace-normal\">HDD ave capacity</td><td class=\"px-6 py-4 whitespace-normal\">Average capacity hard disk drive</td><td class=\"px-6 py-4 whitespace-normal\">TB (Terabytes)</td><td class=\"px-6 py-4 whitespace-normal\">Source: IDC Worldwide Hard Disk Drive Forecast Update, 2020–2024, Dec 2020</td></tr><tr><td class=\"px-6 py-4 whitespace-normal\">Plotting energy consumption</td><td class=\"px-6 py-4 whitespace-normal\">Average energy consumption to create 1TiB of plots</td><td class=\"px-6 py-4 whitespace-normal\">kWh/TiB of data</td><td class=\"px-6 py-4 whitespace-normal\">Chia community reference hardware</td></tr><tr><td class=\"px-6 py-4 whitespace-normal\">Device power consumption</td><td class=\"px-6 py-4 whitespace-normal\">The idle power of storage device</td><td class=\"px-6 py-4 whitespace-normal\">W/TB</td><td class=\"px-6 py-4 whitespace-normal\">Modeled by device type for SSD and HDD</td></tr><tr><td class=\"px-6 py-4 whitespace-normal\">E low</td><td class=\"px-6 py-4 whitespace-normal\">Energy consumption, most efficient hardware (SSD)</td><td class=\"px-6 py-4 whitespace-normal\">kWh</td><td class=\"px-6 py-4 whitespace-normal\">Farming on low power SSDs, extra space from consumer storage</td></tr><tr><td class=\"px-6 py-4 whitespace-normal\">E ave</td><td class=\"px-6 py-4 whitespace-normal\">Energy consumption mainstream high capacity farmer</td><td class=\"px-6 py-4 whitespace-normal\">kWh</td><td class=\"px-6 py-4 whitespace-normal\">Estimated hyperscale like efficiency purpose built for data storage and farming</td></tr><tr><td class=\"px-6 py-4 whitespace-normal\">E high</td><td class=\"px-6 py-4 whitespace-normal\">Energy consumption worst case (low capacity HDD)</td><td class=\"px-6 py-4 whitespace-normal\">kWh</td><td class=\"px-6 py-4 whitespace-normal\">Estimated with 3-4TB HDDs on a consumer desktop, lowest device CapEx</td></tr></tbody></table></div></div></div></div><p class=\"text-lg tracking-normal leading-relaxed break-words text-justify py-6 text-gray-600\">Total storage market size in Exabytes. The power consumption of the Chia network is a small portion of the overall total storage market size, and improved efficiencies in farming devices will further reduce  total energy consumption for mass storage and would result in a net positive impact for the environment.</p><p class=\"text-lg tracking-normal leading-relaxed break-words text-justify py-6 text-gray-600\"><img class=\"max-w-full pt-6 pb-4\" src=\"images/image14.png\" alt=\"Storage Market\" title=\"Market\"/>\nSource: IDC Worldwide Hard Disk Drive Forecast Update, 2020–2024, Dec 2020, IDC Worldwide Solid State Drive Forecast Update, 2020–2024. Dec 2020</p><h2 class=\"text-3xl tracking-wider break-words pt-6 pb-1 text-gray-700\">Modeling Device Power Consumption - W/TB</h2><p class=\"text-lg tracking-normal leading-relaxed break-words text-justify py-6 text-gray-600\"><em>Assumption 0</em> The power consumption used to estimate per disk power is very close to hard drive specification of idle power. The Chia farming process is very lightweight, requiring very little disk io and further reduced in the <a class=\"underline text-green-600\" href=\"https://docs.google.com/document/d/1tmRIb7lgi4QfKkNaxuKOBHRmwbVlGL4f7EsBDr_5xZE/\">new consensus</a> through a mechanism called the plot filter. Although the amount of data transferred is very low, the frequency of data access depends on the size of the plots constructed and number of plots per drive (capacity per disk), measured with a K value, with the minimum K value = 32 consisting of ~108GB (~101GiB. Most farmers use  the minimum required K value for the network operation due to the ease of plotting, so the probability a single plot per disk passes the filter is very high, requiring the disk to be accessed frequently. While it is technically possible for a hard disk drive to spin down to zero idle power between slots, the resume latency from HDD power off or spindown is 10 seconds and HDDs consume higher power to spin up (in rush current) reaching up to 25W for a few seconds. The energy consumed for power up and the mechanical wear and tear on the device make it not practical to spin down the drives in regular use. Power savings on the other mechanical aspects of HDDs, for instance, management of the heads and actuators, are device specific, while link power states are subject to the host storage interface (both SAS and SATA have detailed power state machines that operate differently)</p><p class=\"text-lg tracking-normal leading-relaxed break-words text-justify py-6 text-gray-600\"><img class=\"max-w-full pt-6 pb-4\" src=\"images/image13.png\" alt=\"HDD Power\" title=\"Power\"/>\nSource: <a class=\"underline text-green-600\" href=\"https://www.microsoft.com/en-us/research/publication/feeding-pelican-using-archival-hard-drives-cold-storage-racks/\">Feeding the Pelican: Using Archival Hard Drives for Cold Storage Racks</a></p><p class=\"text-lg tracking-normal leading-relaxed break-words text-justify py-6 text-gray-600\"><img class=\"max-w-full pt-6 pb-4\" src=\"images/powerw_tb.svg\" alt=\"HDD Power\" title=\"Power W/TB\"/></p><div class=\"flex flex-col py-6 font-sans\"><div class=\"-my-2 overflow-x-auto sm:-mx-6 lg:-mx-8\"><div class=\"py-2 align-middle inline-block min-w-full sm:px-6 lg:px-8\"><div class=\"shadow overflow-hidden border-b border-gray-200 sm:rounded-lg\"><table class=\"min-w-full divide-y divide-gray-200\"><thead class=\"bg-gray-50\"><tr><th class=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\"></th><th class=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">Consumer NVMe</th><th class=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">Data Center NVMe</th><th class=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">Data Center SATA</th><th class=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">HDD 7200</th><th class=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">HDD 7200</th><th class=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">HDD 5400</th><th class=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">HDD 5400</th><th class=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">HDD 4TB 7200</th><th class=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">HDD 2TB 7200</th></tr></thead><tbody class=\"bg-white divide-y divide-gray-200\"><tr><td class=\"px-6 py-4 whitespace-normal\">Power Idle (W)</td><td class=\"px-6 py-4 whitespace-normal\">0.05</td><td class=\"px-6 py-4 whitespace-normal\">3.5</td><td class=\"px-6 py-4 whitespace-normal\">1.1</td><td class=\"px-6 py-4 whitespace-normal\">5.9</td><td class=\"px-6 py-4 whitespace-normal\">5.9</td><td class=\"px-6 py-4 whitespace-normal\">3.5</td><td class=\"px-6 py-4 whitespace-normal\">2.5</td><td class=\"px-6 py-4 whitespace-normal\">5</td><td class=\"px-6 py-4 whitespace-normal\">5</td></tr><tr><td class=\"px-6 py-4 whitespace-normal\">Capacity (TB)</td><td class=\"px-6 py-4 whitespace-normal\">4</td><td class=\"px-6 py-4 whitespace-normal\">30.72</td><td class=\"px-6 py-4 whitespace-normal\">3.84</td><td class=\"px-6 py-4 whitespace-normal\">18</td><td class=\"px-6 py-4 whitespace-normal\">16</td><td class=\"px-6 py-4 whitespace-normal\">8</td><td class=\"px-6 py-4 whitespace-normal\">4</td><td class=\"px-6 py-4 whitespace-normal\">4</td><td class=\"px-6 py-4 whitespace-normal\">2</td></tr><tr><td class=\"px-6 py-4 whitespace-normal\">W/TB idle</td><td class=\"px-6 py-4 whitespace-normal\">0.01</td><td class=\"px-6 py-4 whitespace-normal\">0.11</td><td class=\"px-6 py-4 whitespace-normal\">0.29</td><td class=\"px-6 py-4 whitespace-normal\">0.33</td><td class=\"px-6 py-4 whitespace-normal\">0.37</td><td class=\"px-6 py-4 whitespace-normal\">0.44</td><td class=\"px-6 py-4 whitespace-normal\">0.63</td><td class=\"px-6 py-4 whitespace-normal\">1.25</td><td class=\"px-6 py-4 whitespace-normal\">2.50</td></tr></tbody></table></div></div></div></div><h2 class=\"text-3xl tracking-wider break-words pt-6 pb-1 text-gray-700\">Power consumption for majority of large Chia farmers</h2><p class=\"text-lg tracking-normal leading-relaxed break-words text-justify py-6 text-gray-600\">The majority of nearline and high capacity HDDs are consumed by hyperscale data centers and large cloud service providers, where designing around lowest possible data center TCO is the ultimate goal. TCO is measured in TCO$/TBe/rack/month, where TCO is the sum of the total capital and operational expenditures ammorized of the effective or usable capacity of the storage system. The Chia power model utilizes a similar model assuming the most efficient way to store data is already widely being used.  Optimizing disk storage TCO involves getting the highest capacity HDDs, which offer the highest energy efficiency in terms of TB/W, as well as densely packed JBODs (just a bunch of disks) measured in TB/rack unit. Different architectures for warm storage (more frequently accessed) vs cold storage (archival, less frequently accessed) vary mostly around the amount of compute to storage ratio. Chia farming looks very similar to hyperscale HDD archival storage requiring minimum compute resources and networking resources for the actual harvester and farming protocols. Hyperscalers like <a class=\"underline text-green-600\" href=\"https://www.usenix.org/conference/fast21/presentation/pan\">Facebook</a> and Microsoft have written about their storage systems extensively because the <a class=\"underline text-green-600\" href=\"https://www.opencompute.org/documents/facebook-bryce-canyon-storage-system-specification\">JBOD hardware designs</a> hardware designs are open source at the <a class=\"underline text-green-600\" href=\"https://www.opencompute.org/\">Open Compute Project</a>.</p><p class=\"text-lg tracking-normal leading-relaxed break-words text-justify py-6 text-gray-600\"><img class=\"max-w-full pt-6 pb-4\" src=\"images/image15.png\" alt=\"JBOD\" title=\"JBOD\"/></p><p class=\"text-lg tracking-normal leading-relaxed break-words text-justify py-6 text-gray-600\">The model used to estimate power consumption for disks and supporting infrastructure is taken from the  <a class=\"underline text-green-600\" href=\"https://www.snia.org/forums/sssi/programs/TCOcalc\">SNIA open source storage TCO model</a> open source storage TCO model. Replication, erasure coding, and RAID for data protection is not assumed for use in the Chia farming model, due to the fact that plot data can be easily recreated upon disk failure. The model also assumes the majority of disk time is spent in active idle, where the motor is spinning and the disk can respond to commands in milliseconds. The total power consumption overhead for dense storage involves a storage server (or sometimes called headnode) that serves the operating system hosting the Chia harvester and/or farmer. The total power consumption must include the JBODs (which power consumption comes mostly from the disks, but some from the fans, SAS expanders, and backplane) and the servers and supporting infrastructure like networking routers and switches. Everything that is in the rack dedicated to Chia farming must be considered to accurately model the power consumption efficiency in TB/W. When comparing large farms, the majority of the TB/W is actually consumed by the disks themselves, not by the supporting infrastructure, so average capacity HDD is one of the top drivers of ave TB/W. We assume that most large farmers have came to the same conclusion as hyperscale data centers driving up TB/rack unit of space and driving down TB/W by using the highest capacity HDD, even at a minor increase in $/TB over a smaller capacity HDD.</p><h2 class=\"text-3xl tracking-wider break-words pt-6 pb-1 text-gray-700\">Energy efficiency - Data center PUE</h2><p class=\"text-lg tracking-normal leading-relaxed break-words text-justify py-6 text-gray-600\">Hyperscalers like Facebook have achieved a world class PUE of 1.08 and have a large effort in sustainability and renewable energy. We assume most large farmers in the first few years are not optimizing for maximum power efficiency, but just like in Bitcoin over time the power efficiency will gravitate towards the most efficient solutions for power consumption, low cost electricity, and energy efficiency. The Pave equation assumes hyperscale like efficiencies for storage, since they are in fact storing most of the worlds data and the largest annual consumers of HDD and SSDs.</p><h3 class=\"text-2xl break-words pt-6 pb-1 text-gray-700\">Power consumption in lower bound</h3><p class=\"text-lg tracking-normal leading-relaxed break-words text-justify py-6 text-gray-600\">Solid state drives are extremely power efficient. Designed for the use in laptops and mobile devices for long battery life, NAND and SSD controllers are architected for near zero idle power consumption. The <a class=\"underline text-green-600\" href=\"https://nvmexpress.org/developers/nvme-specification/\">NVM Express (NVMe) specification</a> for solid state drives contains various features for <a class=\"underline text-green-600\" href=\"https://nvmexpress.org/resources/nvm-express-technology-features/nvme-technology-power-features/\">power savings</a>, with mainstream consumer SSDs ranging from <a class=\"underline text-green-600\" href=\"https://www.anandtech.com/show/16012/the-sk-hynix-gold-p31-ssd-review/7\">2-4mW idle power with 5-8mS resume latency</a>. With over 100 million consumer NVMe SSDs shipped alone in 2020, there are tens of millions of 1-2TB SSDs in consumer laptops and desktops, which based on studies done by Intel and other companies is greater than the average amount of data used in mainstream use, productivity, gaming, and workstations. The lower bound estimate is the power consumption for low power SSDs.</p><p class=\"text-lg tracking-normal leading-relaxed break-words text-justify py-6 text-gray-600\"><strong>Assumption</strong> Current prices of SSDs are 5-7x the $/TB of capacity optimized hard disk drives. The power consumption of the lower bound only estimates current estimated underutilized capacity resources from consumers who have already purchased a computing device with an SSD installed.</p><p class=\"text-lg tracking-normal leading-relaxed break-words text-justify py-6 text-gray-600\">Power consumption in kW - lower bound\n<img class=\"max-w-full pt-6 pb-4\" src=\"images/image8.png\" alt=\"equation\" title=\"Elow\"/></p><h2 class=\"text-3xl tracking-wider break-words pt-6 pb-1 text-gray-700\">Power consumption higher bound</h2><p class=\"text-lg tracking-normal leading-relaxed break-words text-justify py-6 text-gray-600\"><img class=\"max-w-full pt-6 pb-4\" src=\"images/image3.png\" alt=\"equation\" title=\"Ehigh\"/></p><p class=\"text-lg tracking-normal leading-relaxed break-words text-justify py-6 text-gray-600\">The higher bound on energy consumption comes from the storage media type that is the lowest acquisition cost. Hard disk drives also exhibit a bathtub curve for device failures when power on hours exceeds the 5 year warranty, or excessive writes to the disk (HDD manufacturers call rated workload). Annual failure rate for these models that are well into production have been well documented, with reports like <a class=\"underline text-green-600\" href=\"https://www.backblaze.com/b2/hard-drive-test-data.html\">Backblaze HDD Disk Stats</a>. The most likely candidate for low cost hard drives for 2021 are 3 or 4TB devices, which are on average, used and at the end of life, 20-30% cheaper than used or refurbished average capacity 3.5in HDDs.</p><h3 class=\"text-2xl break-words pt-6 pb-1 text-gray-700\">Power to plot</h3><p class=\"text-lg tracking-normal leading-relaxed break-words text-justify py-6 text-gray-600\">The <a class=\"underline text-green-600\" href=\"https://www.chia.net/2021/02/22/plotting-basics.html\">plotting</a> process involves the creation of the cryptographic data that is stored on the farming devices, and requires compute and ephemeral storage resources to create. Plotting is a one time energy consumption use per the total Netspace, as the data to be stored for farming only needs to be created once. More details about the plotting process can be found in the <a class=\"underline text-green-600\" href=\"https://www.chia.net/assets/proof_of_space.pdf\">Chia Proof of Space Construction document</a>. The Chia community has <a class=\"underline text-green-600\" href=\"https://github.com/Chia-Network/chia-blockchain/wiki/Reference-Plotting-Hardware\">reference hardware posted </a>with the amount of data that various machines can plot per day, and the average power consumption of the systems can be measured or estimated very accurately (since these are common consumer or server platforms). Users also record the amount of data they are able to plot per day per machine making it practical to estimate the energy consumption to create the Chia plots, estimated in kWh/TiB plotted.\n<img class=\"max-w-full pt-6 pb-4\" src=\"images/image12.png\" alt=\"equation\" title=\"Pplot\"/></p><h3 class=\"text-2xl break-words pt-6 pb-1 text-gray-700\">Opportunities for further investigation</h3><p class=\"text-lg tracking-normal leading-relaxed break-words text-justify py-6 text-gray-600\"><strong>HDD capacity growth vs QLC SSD</strong>\nThere is currently a lot of debate about what is in store for the next decade of storage devices. The NAND market is project to reach 558EB in 2021 (Source: TrendForce Feb. 9th, 2021), with approximately 300EB of SSDs between data center and consumer applications. With the current decline of average selling price of SSDs over the last 10 years, multiple generations of 3D NAND technology improvements and new media technologies for NAND flash (QLC and PLC, 4 and 5 bits per cell respectively) <a class=\"underline text-green-600\" href=\"https://wikibon.com/qlc-flash-hamrs-hdd/\">may bring a total ASP crossover for SSDs and HDDs.</a> Even if SSDs reach within 2-3x the ASP, the projected TCO in almost every storage application will favor SSDs. <a class=\"underline text-green-600\" href=\"https://www.anandtech.com/show/16544/seagates-roadmap-120-tb-hdds\">Seagate has since responded</a> with a competitive roadmap that exceeds the current areal density growth for HDDs and requires investment in new technologies.</p><p class=\"text-lg tracking-normal leading-relaxed break-words text-justify py-6 text-gray-600\"><em>“Seagate recently published its long-term technology roadmap revealing plans to produce ~50 TB hard drives by 2026 and 120+ TB HDDs after 2030. In the coming years, Seagate is set to leverage usage of heat-assisted magnetic recording (HAMR), adopt bit patterned media (BPM) in the long term, and to expand usage of multi-actuator technology (MAT) for high-capacity drives. This is all within the 3.5-inch form factor”.</em></p><p class=\"text-lg tracking-normal leading-relaxed break-words text-justify py-6 text-gray-600\">No matter who wins this storage war, total power efficiency per given storage capacity will get reduced in upcoming years due to the competitive storage market and large growth of data created. These will both benefit Chia, with an SSD heavy future being even more power efficient than the current. <a class=\"underline text-green-600\" href=\"https://www.intel.com/content/www/us/en/events/memory-and-storage.html\">Intel forecasted</a> that a move to all SSD in the future could reduce carbon emissions by 41 million tons, with a projected TCO crossover for 15-30% of the nearline HDD bit TAM by 2022 alone.</p><p class=\"text-lg tracking-normal leading-relaxed break-words text-justify py-6 text-gray-600\"><strong>Reduce power of HDDs through firmware optimizations for Chia</strong>\nCurrent 5400RPM 3.5in HDDs consume less idle power than 7200 RPM drives. An <a class=\"underline text-green-600\" href=\"https://www.seagate.com/www-content/datasheets/pdfs/3-5-barracudaDS1900-14-2007US-en_US.pdf\">8TB Seagate </a>5400RPM HDD consumes 2.5W (4TB) and 3.4W (8TB) idle power, while competing 7200 RPM drives consume 5-6W idle power. There are likely optimizations to slightly reduce W/TB by taking large capacity models and running them at a lower motor speed, impacting performance at the tradeoff of energy efficiency.</p><div class=\"flex flex-col py-6 font-sans\"><div class=\"-my-2 overflow-x-auto sm:-mx-6 lg:-mx-8\"><div class=\"py-2 align-middle inline-block min-w-full sm:px-6 lg:px-8\"><div class=\"shadow overflow-hidden border-b border-gray-200 sm:rounded-lg\"><table class=\"min-w-full divide-y divide-gray-200\"><thead class=\"bg-gray-50\"><tr><th class=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">Drive Model</th><th class=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">Capacity</th><th class=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">Speed</th><th class=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">Idle Power</th><th class=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">W/TB</th></tr></thead><tbody class=\"bg-white divide-y divide-gray-200\"><tr><td class=\"px-6 py-4 whitespace-normal\">Seagate Barracuda</td><td class=\"px-6 py-4 whitespace-normal\">8TB</td><td class=\"px-6 py-4 whitespace-normal\">5400 RPM</td><td class=\"px-6 py-4 whitespace-normal\">3.4W</td><td class=\"px-6 py-4 whitespace-normal\">0.425</td></tr><tr><td class=\"px-6 py-4 whitespace-normal\">Seagate Exos X18</td><td class=\"px-6 py-4 whitespace-normal\">18TB</td><td class=\"px-6 py-4 whitespace-normal\">7200 RPM</td><td class=\"px-6 py-4 whitespace-normal\">5.3W</td><td class=\"px-6 py-4 whitespace-normal\">0.294</td></tr></tbody></table></div></div></div></div><p class=\"text-lg tracking-normal leading-relaxed break-words text-justify py-6 text-gray-600\"><strong>Large K values and drive spindown.</strong>\nWith very large capacity HDDs and very large K value, the probability of disk access during a sub-block per plot filter goes down exponentially. There are some opportunities to explore POCs with very large K value (1-2 per disk) and calculate the probability distribution for disk access times vs acceptable spin downs per year.</p>","scope":{}},"kwOfNetwork":513.9072249541142,"lastUpdate":"2021-04-17T02:04:37.331Z","netspaceHumanString":"341.4 PiB"},"__N_SSG":true}