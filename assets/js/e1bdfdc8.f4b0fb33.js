"use strict";(self.webpackChunkchiapower=self.webpackChunkchiapower||[]).push([[5580],{3905:(e,t,r)=>{r.d(t,{Zo:()=>c,kt:()=>m});var a=r(7294);function n(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function o(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,a)}return r}function i(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?o(Object(r),!0).forEach((function(t){n(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):o(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function s(e,t){if(null==e)return{};var r,a,n=function(e,t){if(null==e)return{};var r,a,n={},o=Object.keys(e);for(a=0;a<o.length;a++)r=o[a],t.indexOf(r)>=0||(n[r]=e[r]);return n}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)r=o[a],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}var d=a.createContext({}),l=function(e){var t=a.useContext(d),r=t;return e&&(r="function"==typeof e?e(t):i(i({},t),e)),r},c=function(e){var t=l(e.components);return a.createElement(d.Provider,{value:t},e.children)},p="mdxType",h={inlineCode:"code",wrapper:function(e){var t=e.children;return a.createElement(a.Fragment,{},t)}},u=a.forwardRef((function(e,t){var r=e.components,n=e.mdxType,o=e.originalType,d=e.parentName,c=s(e,["components","mdxType","originalType","parentName"]),p=l(r),u=n,m=p["".concat(d,".").concat(u)]||p[u]||h[u]||o;return r?a.createElement(m,i(i({ref:t},c),{},{components:r})):a.createElement(m,i({ref:t},c))}));function m(e,t){var r=arguments,n=t&&t.mdxType;if("string"==typeof e||n){var o=r.length,i=new Array(o);i[0]=u;var s={};for(var d in t)hasOwnProperty.call(t,d)&&(s[d]=t[d]);s.originalType=e,s[p]="string"==typeof e?e:n,i[1]=s;for(var l=2;l<o;l++)i[l]=r[l];return a.createElement.apply(null,i)}return a.createElement.apply(null,r)}u.displayName="MDXCreateElement"},1761:(e,t,r)=>{r.r(t),r.d(t,{assets:()=>d,contentTitle:()=>i,default:()=>h,frontMatter:()=>o,metadata:()=>s,toc:()=>l});var a=r(7462),n=(r(7294),r(3905));const o={sidebar_position:1,title:"Power Requirements for Hard Drives"},i=void 0,s={unversionedId:"Power/powerhdd",id:"Power/powerhdd",title:"Power Requirements for Hard Drives",description:"The Chia farming process is very lightweight, requiring very little disk io by only having to perform a proof quality check on most lookups, and through a mechanism called the plot filter which reduces the io by a factor of the constant. In Chia the plot filter is currently set to 512, meaning that on every challenge a plot has a 1/512 chance of being eligible. Although the amount of data transferred is very low, the frequency of data access depends on the size of the plots constructed and number of plots per drive (capacity per disk), measured with a K value, with the minimum K value = 32 consisting of ~108GB (~101GiB. Most farmers use the minimum required K value for the network operation due to the ease of plotting and the disk is accessed frequently, but still only transfers a small amount of data. These parameters dictate power savings depending on the device type used for farming since SSD and HDD have very different power states and latency profiles.",source:"@site/docs/Power/powerhdd.md",sourceDirName:"Power",slug:"/Power/powerhdd",permalink:"/Power/powerhdd",draft:!1,tags:[],version:"current",sidebarPosition:1,frontMatter:{sidebar_position:1,title:"Power Requirements for Hard Drives"},sidebar:"defaultSidebar",previous:{title:"Power",permalink:"/category/power"},next:{title:"SSDs and Chia farming",permalink:"/Power/powerssd"}},d={},l=[],c={toc:l},p="wrapper";function h(e){let{components:t,...o}=e;return(0,n.kt)(p,(0,a.Z)({},c,o,{components:t,mdxType:"MDXLayout"}),(0,n.kt)("p",null,"The Chia farming process is ",(0,n.kt)("a",{parentName:"p",href:"https://docs.chia.net/docs/15resources/Storage_farming"},"very lightweight"),", requiring very little disk io by only having to perform a ",(0,n.kt)("a",{parentName:"p",href:"https://docs.chia.net/docs/03consensus/proof-of-space/#farming"},"proof quality check")," on most lookups, and through a mechanism called the plot filter which reduces the io by a factor of the constant. In Chia the plot filter is currently set to 512, meaning that on every challenge a plot has a 1/512 chance of being eligible. Although the amount of data transferred is very low, the frequency of data access depends on the size of the plots constructed and number of plots per drive (capacity per disk), measured with a K value, with the minimum K value = 32 consisting of ~108GB (~101GiB. Most farmers use the minimum required K value for the network operation due to the ease of plotting and the disk is accessed frequently, but still only transfers a small amount of data. These parameters dictate power savings depending on the device type used for farming since SSD and HDD have very different power states and latency profiles."),(0,n.kt)("p",null,"The power consumption of storage devices is well understood. Hard drives save power in a few ways. Consumer hard drives sometimes have a lower RPM (5400) vs enterprise or nearline HDDs (7200 rpm), which decreases power consumption from spinning the motor slower. When an HDD is idle for an extended period of time, the device can enter a lower power state by disabling the servo systems, parking the head, or spinning down. One cycle of parking the head is called a load/unload, which has a limited amount of times it can be performed over the duration of an HDD deployment due to the mechanical wear and tear. This power state is called Idle B."),(0,n.kt)("p",null,"Analysis has shown that during the Chia farming workload on an 18TB HDD with n=165 plots, the HDD was idle 99.7% of the time (Source: Western Digital, Seagate, ",(0,n.kt)("a",{parentName:"p",href:"https://docs.chia.net/docs/15resources/Storage_farming"},"Chia"),"). The power consumption for Chia farming can be found on the hard drive specification for idle power under Idle A. In this power state, the hard drive motor is spinning with the heads on track follow and some of the servo systems may be disabled."),(0,n.kt)("table",null,(0,n.kt)("thead",{parentName:"table"},(0,n.kt)("tr",{parentName:"thead"},(0,n.kt)("th",{parentName:"tr",align:null},"Drive Model"),(0,n.kt)("th",{parentName:"tr",align:null},"Rotational Speed"),(0,n.kt)("th",{parentName:"tr",align:null},"Idle A power (W)"))),(0,n.kt)("tbody",{parentName:"table"},(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",{parentName:"tr",align:null},(0,n.kt)("a",{parentName:"td",href:"https://documents.westerndigital.com/content/dam/doc-library/en_us/assets/public/western-digital/product/data-center-drives/ultrastar-dc-hc500-series/product-manual-ultrastar-dc-hc550-sata-oem-spec.pdf"},"Western Digital HC550 18TB")),(0,n.kt)("td",{parentName:"tr",align:null},"7200 rpm"),(0,n.kt)("td",{parentName:"tr",align:null},"5.6W")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",{parentName:"tr",align:null},(0,n.kt)("a",{parentName:"td",href:"https://www.seagate.com/files/www-content/about/newsroom/media-kits/_shared/files/exos-x18-channel-DS2045-1-2007US-en_US.pdf"},"Seagate Exos X18 18TB")),(0,n.kt)("td",{parentName:"tr",align:null},"7200 rpm"),(0,n.kt)("td",{parentName:"tr",align:null},"5.3W")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",{parentName:"tr",align:null},(0,n.kt)("a",{parentName:"td",href:"https://www.seagate.com/www-content/datasheets/pdfs/3-5-barracudaDS1900-11-1806US-en_US.pdf"},"Seagate Barracuda Compute 8TB")),(0,n.kt)("td",{parentName:"tr",align:null},"5400 rpm"),(0,n.kt)("td",{parentName:"tr",align:null},"3.4W")))),(0,n.kt)("p",null,"There are advanced techniques that can be used with varying the number of plots per drive (using a higher value for k, increasing the plot file size), and tuning the timer for Idle B. It is not recommended to spin down the drive due to the time it takes and energy consumed to spin up the drive, which can be 15-20 seconds on mainstream and enterprise HDDs."),(0,n.kt)("p",null,"To get to zero idle power, the drive must actually spin down. While it is technically possible for a hard disk drive to spin down to zero idle power between slots, the resume latency from HDD power off or spindown is 10 seconds and HDDs consume higher power to spin up (inrush current) reaching up to 25W for a few seconds. The energy consumed for power up and the mechanical wear and tear on the device make it not practical to spin down the drives in regular use. Power savings on the other mechanical aspects of HDDs, for instance, management of the heads and actuators, are device-specific, while link power states are subject to the host storage interface (both SAS and SATA have detailed power state machines that operate differently)"),(0,n.kt)("p",null,"Because of the nature of the moving parts within the HDD, repeated movements and friction over hundreds of thousands of iterations can cause physical particles to be released within the hard drive, and increase the chance of physical damage on the disk. The current assessment is that despite a large amount of idle time on the disk and using standard k=32 plots, the disk is being accessed frequently enough (albeit a small amount of data actually being read) that parking the heads or spinning down would cause an accelerated amount of wear and tear on the drive that would be detrimental to the longevity and reliability of the HDD."),(0,n.kt)("p",null,(0,n.kt)("img",{alt:"W/TB",src:r(5123).Z,title:"W/TB",width:"1999",height:"1158"}),"\n",(0,n.kt)("img",{alt:"Feeding The Pelican",src:r(8910).Z,title:"HDD Power during spinup",width:"1173",height:"471"}),"\nSource: ",(0,n.kt)("a",{parentName:"p",href:"https://www.microsoft.com/en-us/research/publication/feeding-pelican-using-archival-hard-drives-cold-storage-racks/"},"Feeding the Pelican: Using Archival Hard Drives for Cold Storage Racks")))}h.isMDXComponent=!0},5123:(e,t,r)=>{r.d(t,{Z:()=>a});const a=r.p+"assets/images/image7-dc5338b660f055e94633614936916f8c.png"},8910:(e,t,r)=>{r.d(t,{Z:()=>a});const a=r.p+"assets/images/image9-33d88c67af1c35bd343966a81581b7b0.png"}}]);